<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="description" content="Antonio Hickey Git Open Source Projects">
    <title>Antonio Hickey</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="stylesheet" href="/style.css">
		<link rel="stylesheet" href="/highlight.css">
    <!-- markdown display -->
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
  </head>
  <body>
		<div id="nav">
			<a href="/">/home/</a> |
			<a href="/blog/">/blog/</a> |
			<a href="/git/">/git/</a>
		</div>

		<h3 id="page-header"></h3>

		<hr>

		<pre>
			<code id="code-block" class="hljs" style="display:none">
			</code>
		</pre>

    <md-block id="markdown-block">
    </md-block>

		<hr>

    <!-- Jk no copyright you can steal my html website if you want :) -->
    <p class="superimportantnoticebro">idk copyright or whatever &#9400; 2023 Antonio Hickey</p>

    <!-- syntax highlight for code snippets -->
    <script src="/highlight.js"></script>

		<script>
			let urlParams = new URLSearchParams(window.location.search);
			const repo = urlParams.get('repo');
			const hash = urlParams.get('hash');
			const codeBlock = document.getElementById("code-block");
      const markdownBlock = document.getElementById("markdown-block");
			const pageHeader = document.getElementById("page-header");
			const langMap = {
				'rs': 'language-rust',
				'html': 'language-html',
				'js': 'language-javascript',
				'jsx': 'language-jsx',
				'ts': 'language-typescript',
				'tsx': 'language-tsx',
				'toml': 'language-ini',
				'css': 'language-css',
				'json': 'language-json',
			}


			// Call Git-Api to pull all the repos on the server.
			fetch(`https://dvl6znen50.execute-api.us-east-1.amazonaws.com/object/by-hash/${repo}/${hash}`)
    	  .then(response => response.json())
    	  .then(objData => {
					pageHeader.innerText = `${repo}/${objData.name}`;

          if (objData.ext == "md") {
            codeBlock.parentElement.remove();
            markdownBlock.mdContent = objData.content;
          } else {
            codeBlock.style.display = "block";
					  codeBlock.textContent = objData.content;
					  codeBlock.classList.add(langMap[objData.ext]);
          }

					if (hljs) hljs.highlightAll();
    	  })
    	  .catch(error => {
    	    console.log(error);
    	  });
		</script>
  </body>
</html>



